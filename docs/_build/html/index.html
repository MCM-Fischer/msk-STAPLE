

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Welcome to STAPLE’s documentation! &mdash; STAPLE  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> STAPLE
          

          
            
            <img src="_static/logo_single_s.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to STAPLE’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#staple">STAPLE</a><ul>
<li><a class="reference internal" href="#module-STAPLE.GIBOC_core.SubFunctions.GeometricFun">GIBOC core geometric functions</a></li>
<li><a class="reference internal" href="#module-STAPLE.GIBOC_core.SubFunctions.FittingFun">GIBOC core fitting functions</a></li>
<li><a class="reference internal" href="#algorithms-functions">Algorithms functions</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">STAPLE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to STAPLE’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-staple-s-documentation">
<h1>Welcome to STAPLE’s documentation!<a class="headerlink" href="#welcome-to-staple-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>
<div class="section" id="staple">
<h1>STAPLE<a class="headerlink" href="#staple" title="Permalink to this headline">¶</a></h1>
<p>This is the STAPLE module.</p>
<span class="target" id="module-STAPLE"></span><div class="section" id="module-STAPLE.GIBOC_core.SubFunctions.GeometricFun">
<span id="giboc-core-geometric-functions"></span><h2>GIBOC core geometric functions<a class="headerlink" href="#module-STAPLE.GIBOC_core.SubFunctions.GeometricFun" title="Permalink to this headline">¶</a></h2>
<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.LargestEdgeConvHull">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">LargestEdgeConvHull</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Pts</span></em>, <em class="sig-param"><span class="pre">Minertia</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.LargestEdgeConvHull" title="Permalink to this definition">¶</a></dt>
<dd><p>LARGESTEDGECONVHULL Compute the convex hull of the points cloud Pts and
sort the edges by their length</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Pts</strong> (<em>[nx3] float matrix</em>) – A Point Cloud in 2D [nx2] or 3D [nx3]</p></li>
<li><p><strong>Minertia</strong> (<em>[3x3] float matrix</em>) – A matrice of inertia to transform the points beforehand</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>IdxPointsPair</strong> (<em>__TYPE__</em>) – __DESCRIPTION__</p></li>
<li><p><strong>EdgesLength</strong> (<em>__TYPE__</em>) –</p>
<dl class="simple">
<dt>a [mx1] matrix of the edges length which rows</dt><dd><p>are in correspondance with IdxPointsPair matrix</p>
</dd>
</dl>
</li>
<li><p><strong>K</strong> (<em>__TYPE__</em>) – The convex hull of the point cloud</p></li>
<li><p><strong>Edges_Length_and_VerticesIDs_sorted</strong> (<em>__TYPE__</em>) – __DESCRIPTION__</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.PCRegionGrowing">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">PCRegionGrowing</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Pts</span></em>, <em class="sig-param"><span class="pre">S</span></em>, <em class="sig-param"><span class="pre">r</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.PCRegionGrowing" title="Permalink to this definition">¶</a></dt>
<dd><p>PCRegionGrowing Point cloud Region growin</p>
<p>From a given set of seed points [S], find recursively the points in the
point cloud [Pts] that are “connected” to the iteratively grown seed points.
The connected property is defined by a distance threshold given by a
radius [r].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Pts</strong> (<em>[nx3] float matrix</em>) – A point cloud</p></li>
<li><p><strong>S</strong> (<em>__TYPE__</em>) – The seeds (a matrix of points coordinates) from which to grow</p></li>
<li><p><strong>r</strong> (<em>__TYPE__</em>) – The radius of the sphere to consider two points as neighour</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>Pts_Out</strong> –</p>
<dl class="simple">
<dt>The subset of points in point clouds that are connected</dt><dd><p>to the seeds</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[nx3] float matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.PlanPolygonCentroid3D">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">PlanPolygonCentroid3D</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Pts</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.PlanPolygonCentroid3D" title="Permalink to this definition">¶</a></dt>
<dd><p>PLANPOLYGONCENTROID3D Find the centroid of a 2D Polygon, decribed by its
boundary ( a close curve) in a 3D space.
Works with arbitrary shapes (convex or not</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>Pts</strong> (<em>[nx3] float matrix</em>) – A close curve in 3D space [nx3] matrix</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>Centroid</strong> (<em>__TYPE__</em>) – a 2x3 or 2x2 matrix of the pair of closest point.</p></li>
<li><p><strong>Area</strong> (<em>__TYPE__</em>) – Area of the curves</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.ProjectOnPlan">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">ProjectOnPlan</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Pts</span></em>, <em class="sig-param"><span class="pre">n</span></em>, <em class="sig-param"><span class="pre">Op</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.ProjectOnPlan" title="Permalink to this definition">¶</a></dt>
<dd><p>PROJECTONPLAN project points Pts on a plan describe by its normal n and
a point on the plan</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Pts</strong> (<em>[nx3] float matrix</em>) – <dl class="simple">
<dt>Initial set of m certain condyle points formated as [mx3]</dt><dd><p>matrix</p>
</dd>
</dl>
</p></li>
<li><p><strong>n</strong> (<em>[3x1] float vector</em>) – Plan normal [3x1]</p></li>
<li><p><strong>Op</strong> (<em>[1x3] float vector</em>) – A point on the plan</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Pts_Proj</strong> – Points projected on the pla</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[nx3] float matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.PtsOnCondylesFemur">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">PtsOnCondylesFemur</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">PtsCondyle_0</span></em>, <em class="sig-param"><span class="pre">Pts_Epiphysis</span></em>, <em class="sig-param"><span class="pre">CutAngle</span></em>, <em class="sig-param"><span class="pre">InSetRatio</span></em>, <em class="sig-param"><span class="pre">ellip_dilat_fact</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.PtsOnCondylesFemur" title="Permalink to this definition">¶</a></dt>
<dd><p>PTSONCONDYLESFEMUR Find condyle points by fitting an ellipse on points
previously identified as certain condyle points. From this ellispe all
points within a certain relative distance from the ellipse</p>
<p>Points must be expressed in Coordinate system where Y has been identified
as a good initial candidates for ML axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>PtsCondyle_0</strong> (<em>[nx3] float matrix</em>) – <dl class="simple">
<dt>Initial set of m certain condyle points formated as [mx3]</dt><dd><p>matrix</p>
</dd>
</dl>
</p></li>
<li><p><strong>Pts_Epiphysis</strong> (<em>[nx3] float matrix</em>) – <dl class="simple">
<dt>Set of n points that are candidate to be condyle points,</dt><dd><p>formated as [nx3] matrix n&gt;m</p>
</dd>
</dl>
</p></li>
<li><p><strong>CutAngle</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>Angle in degree above which posterior points are considered as</dt><dd><p>not part of the condyles</p>
</dd>
</dl>
</p></li>
<li><p><strong>InSetRatio</strong> (<em>__TYPE__</em>) – __DESCRIPTION__</p></li>
<li><p><strong>ellip_dilat_fact</strong> (<em>__TYPE__</em>) – __DESCRIPTION__</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>PtsCondyle_end</strong> (<em>[nx3] float matrix</em>) – all identified condyles points as a [lx3] matrix, l&lt;n</p></li>
<li><p><strong>PtsKeptID</strong> (<em>[nx3] float matrix</em>) –</p>
<dl class="simple">
<dt>Index of the identified condyle points relative to the matrix</dt><dd><p>of Pts_Epiphysis</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.TriangleClosestPointPair">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">TriangleClosestPointPair</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">triangle</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.TriangleClosestPointPair" title="Permalink to this definition">¶</a></dt>
<dd><p>TRIANGLECLOSESTPOINTPAIR Identify the pair of closest point of a triangl</p>
<p>From seeds S found all the points that are inside the spheres of radius r
Then use the found points as new seed
loop until no new points are found to be in the spheres</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>triangle</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>A 3x3 matrix or 3x2 matrix</dt><dd><p>3 lines of the 2D or 3D coordinates of the vertices of
the triangl</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>closestPtPair</strong> (<em>__TYPE__</em>) – a 2x3 or 2x2 matrix of the pair of closest point</p></li>
<li><p><strong>isolatedPt</strong> (<em>__TYPE__</em>) – a 1x3 or 1x2 vector of the coordiante of the</p></li>
<li><p><strong>maxEdgeLength</strong> (<em>__TYPE__</em>) – a scalar value, length of the largest edg</p></li>
<li><p><strong>minEdgeLength</strong> (<em>__TYPE__</em>) –</p>
<dl class="simple">
<dt>a scalar value</dt><dd><p>closestPtPair - a 2x3 or 2x2 matrix of the pair of closest point
isolatedPt - a 1x3 or 1x2 vector of the coordiante of the
point isolated relative to the point pair</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.computeMassProperties_Mirtich1996">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">computeMassProperties_Mirtich1996</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">v</span></em>, <em class="sig-param"><span class="pre">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.computeMassProperties_Mirtich1996" title="Permalink to this definition">¶</a></dt>
<dd><p>% COMPUTEMASSPROPERTIES_MIRTICH1996
Script that given the vertices v and facets of a triangular mesh
calculates the inertial properties (Volume, Mass, COM and Inertia matrix
based on: Mirtich, B., 1996. Fast and accurate computation of polyhedral
mass properties. journal of graphics tools 1, 31-50. The algorithm is not
the generic one presented in that publication, which works for any kind
of polihedron, but is optimized to work with triangular meshes. The
implementation was taken from Eberly, D., 2003. Polyhedral mass
properties (revisited). AVAILABLE AT:
<a class="reference external" href="https://www.geometrictools.com/Documentation/PolyhedralMassProperties.pd">https://www.geometrictools.com/Documentation/PolyhedralMassProperties.pd</a></p>
<p>VERIFICATION: this code yealds the same values as NMSBuilder for a femur
and a sphere. (Exactly the same values, but it’s faster!)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>__TYPE__</em>) – matrix [n x 3] vertices including the coordinates of n points</p></li>
<li><p><strong>f</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>matrix of [f x 3], collecting the indices of the vertices of</dt><dd><p>each facet of the mes</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>MassProps</strong> –</p>
<dl class="simple">
<dt>Matlab Structure with Mass infos :</dt><dd><ul class="simple">
<li><p>MassInfo.mass = mass;</p></li>
<li><p>MassInfo.COM = COM;</p></li>
<li><p>MassInfo.Imat = I; inertia matrix calculated at COM</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>__TYPE__</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.computeTriCoeffMorpho">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">computeTriCoeffMorpho</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">TriObj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.computeTriCoeffMorpho" title="Permalink to this definition">¶</a></dt>
<dd><p>COMPUTETRICOEFFMORPHO Compute coeffecient that adapt
other tri morphological operation to triangulation object
that are not made of triangles with edge lengths different
than 0.5 mm</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>TriObj</strong> (<em>triangulation</em>) – __DESCRIPTION__</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>CoeffMorpho</strong> –</p>
<dl class="simple">
<dt>A ratio between expected edge length 0.5 and</dt><dd><p>actual edge length of T</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.cutLongBoneMesh">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">cutLongBoneMesh</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">TrLB</span></em>, <em class="sig-param"><span class="pre">U_0</span></em>, <em class="sig-param"><span class="pre">L_ratio</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.cutLongBoneMesh" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>CUTLONGBONEMESH Separate the Mesh of long bone in two parts:</dt><dd><p>a proximal and a distal one</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TrLB</strong> (<em>triangulation</em>) – The triangulation of a long bone</p></li>
<li><p><strong>U_0</strong> (<em>[3x1] float vector</em>) – <dl class="simple">
<dt>A unit vector defining the wanted distal to proximal</dt><dd><p>orientation of the principal direction</p>
</dd>
</dl>
</p></li>
<li><p><strong>L_ratio</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>The ratio of the bone length kept to define the prox.</dt><dd><p>and distal part of the long bone</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>TrProx</strong> (<em>triangulation</em>) – Triangulation of the proximal part of the long bone.</p></li>
<li><p><strong>TrDist</strong> (<em>triangulation</em>) – Triangulation of the distal part of the long bone</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.getLargerPlanarSect">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">getLargerPlanarSect</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Curves</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.getLargerPlanarSect" title="Permalink to this definition">¶</a></dt>
<dd><p>% GETLARGERPLANARSECT Get the largest planar cross section,
in term of area, in set of bone cross section.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>Curves</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>A Matlab structure containing a set of cross section</dt><dd><p>curves.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>Curve</strong> (<em>__TYPE__</em>) – The cross section curve with the largest area among the set.</p></li>
<li><p><strong>N_curves</strong> (<em>__TYPE__</em>) – The number of cross sections in the input structure.</p></li>
<li><p><strong>Areas</strong> (<em>__TYPE__</em>) – A vector [1xN_curves] containing each section area.</p>
<blockquote>
<div><p>Copyright (c) 2020 Modenese L.
Author: Luca Modenese
email: <a class="reference external" href="mailto:l&#46;modenese&#37;&#52;&#48;imperial&#46;ac&#46;uk">l<span>&#46;</span>modenese<span>&#64;</span>imperial<span>&#46;</span>ac<span>&#46;</span>uk</a>
———————————————————————–</p>
</div></blockquote>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.GeometricFun.normalizeV">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.GeometricFun.</span></code><code class="sig-name descname"><span class="pre">normalizeV</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">V</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.GeometricFun.normalizeV" title="Permalink to this definition">¶</a></dt>
<dd><p>NORMALIZEV Normalize the vector or list of vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>V</strong> (<em>[3x3] float matrix</em>) – A vector or matrix of vector</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Vnormalized</strong> – A normalized vector or list of normalized vectors</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[3x3] float matrix</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-STAPLE.GIBOC_core.SubFunctions.FittingFun">
<span id="giboc-core-fitting-functions"></span><h2>GIBOC core fitting functions<a class="headerlink" href="#module-STAPLE.GIBOC_core.SubFunctions.FittingFun" title="Permalink to this headline">¶</a></h2>
<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.LSSLFitPatellaRidge">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">LSSLFitPatellaRidge</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">patellaTri</span></em>, <em class="sig-param"><span class="pre">U</span></em>, <em class="sig-param"><span class="pre">nbSlice</span></em>, <em class="sig-param"><span class="pre">startDist</span></em>, <em class="sig-param"><span class="pre">endDist</span></em>, <em class="sig-param"><span class="pre">debug_plots</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.LSSLFitPatellaRidge" title="Permalink to this definition">¶</a></dt>
<dd><p>LSSLFITPATELLARIDGELEAST Square Straight Line Fit on Patellar Ridge
To obtain the direction of the ridge a Least Square Straight Line is
fitted on the lowest points on slices of normal U, and the normal U is
updated until convergence (of U or number of iterations &gt; 100)
U is the vector ~aligned with the ridg</p>
<p>Least Square Straight Line Fit on Patellar Ridge</p>
<p>To obtain the direction of the ridge a Least Square Straight Line is
fitted on the lowest points on slices of normal U, and the normal U is
updated until convergence of U (or number of iterations &gt; 100)</p>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.ankleSurfFit">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">ankleSurfFit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">TR_AnkleSurf</span></em>, <em class="sig-param"><span class="pre">TR_Tibia</span></em>, <em class="sig-param"><span class="pre">V</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.ankleSurfFit" title="Permalink to this definition">¶</a></dt>
<dd><p>ANKLESURFFIT Find the ID of the elements of the distal tibia that
lies within 1 mm to a poly22 fit of a initial estimate of the surface</p>
<p>This function only identify the part of the tibial articular surface
that is perpendicalar to the long axis of the tibia (ie. the inferior
articular surface of the tibia). The articular surface of the medial
malleolus is not identified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TR_AnkleSurf</strong> (<em>triangulation</em>) – <dl class="simple">
<dt>An initial estimation of the inferior articular</dt><dd><p>surface of the tibia</p>
</dd>
</dl>
</p></li>
<li><p><strong>TR_Tibia</strong> (<em>triangulation</em>) – The geometry of the distal tibia.</p></li>
<li><p><strong>V</strong> (<em>[3x3] float matrix</em>) – The eigen vectors of the pseudo inertia-matrix of the whole tibia.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>TibiaElmtsIDOK</strong> –</p>
<dl class="simple">
<dt>Element Id of all elements from TR_Tibia identified to</dt><dd><p>be part of the updated inferior articular surface</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>__TYPE__</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.ellipsoid_fit">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">ellipsoid_fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">X</span></em>, <em class="sig-param"><span class="pre">equals</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.ellipsoid_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>ELLIPSOID_FIT
Fit an ellispoid/sphere/paraboloid/hyperboloid to a set of xyz data points</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X</strong> (<em>__TYPE__</em>) – Cartesian data, n x 3 matrix or three n x 1 vectors</p></li>
<li><p><strong>equals</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>A flag determing fit constraints :</dt><dd><ul>
<li><p>’’ or empty fits an arbitrary ellipsoid (default),</p></li>
<li><p>’xy’ fits a spheroid with x- and y- radii equal</p></li>
<li><p>’xz’ fits a spheroid with x- and z- radii equal</p></li>
<li><p>’xyz’ fits a sphere</p></li>
<li><p>’0’ fits an ellipsoid with its axes aligned along [x y z] axes</p></li>
<li><p>’0xy’ the same with x- and y- radii equal</p></li>
<li><p>’0xz’ the same with x- and z- radii equa</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>center</strong> (<em>__TYPE__</em>) – ellispoid or other conic center coordinates [xc; yc; zc]</p></li>
<li><p><strong>radii</strong> (<em>__TYPE__</em>) – ellipsoid or other conic radii [a; b; c]</p></li>
<li><p><strong>evecs</strong> (<em>__TYPE__</em>) – the radii directions as columns of the 3x3 matrix</p></li>
<li><p><strong>v</strong> (<em>__TYPE__</em>) –</p>
<dl class="simple">
<dt>the 10 parameters describing the ellipsoid / conic algebraically:</dt><dd><p>Ax^2 + By^2 + Cz^2 + 2Dxy + 2Exz + 2Fyz + 2Gx + 2Hy + 2Iz + J = 0</p>
</dd>
</dl>
</li>
<li><p><strong>chi2</strong> (<em>__TYPE__</em>) –</p>
<dl class="simple">
<dt>residual sum of squared errors (chi^2), this chi2 is in the</dt><dd><p>coordinate frame in which the ellipsoid is a unit sphere</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.fitCSA">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">fitCSA</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Z</span></em>, <em class="sig-param"><span class="pre">Area</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.fitCSA" title="Permalink to this definition">¶</a></dt>
<dd><p>FITCSA Create a fit of the evolution of the cross section area
1st step is to fit a double gaussian on the curve
2nd step is to use the result of the first fit to initialize a 2nd
fit of a gaussian plus an affine function : a1*exp(-((x-b1)/c1)^2)+d*x+e
Separate the diaphysis based on the hypothseis that its long axis cross section
area evolve pseudo linearly along its diaphysis while the variation are
more bell-shaped for the epiphysis region</p>
<p>It is assumed that the cross-sections are calculated on a cutted long bone
that have a part of the diaphysis and a single full epiphysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Z</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>The distance to origin of each cross section center when projected</dt><dd><p>onto the bone long axis.</p>
</dd>
</dl>
</p></li>
<li><p><strong>Area</strong> (<em>__TYPE__</em>) – The cross section areas of the bone along the bone long axis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>Zdiaph</strong> (<em>__TYPE__</em>) – The value of Z for at which the diaphysis is estimated to ends.</p></li>
<li><p><strong>Zepi</strong> (<em>__TYPE__</em>) – The value of Z for at which the epiphysis is estimated to starts.</p></li>
<li><p><strong>or</strong> (<em>__TYPE__</em>) –</p>
<dl class="simple">
<dt>The orientation of the bone. -1 if the ephysis is the distal one.</dt><dd><p>+1 if the epiphysis is the proximal one</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.fitCSATalus">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">fitCSATalus</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Alt</span></em>, <em class="sig-param"><span class="pre">Area</span></em>, <em class="sig-param"><span class="pre">debug_plots</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.fitCSATalus" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>FITCSATALUS Create a fit of the evolution of the cross section area :</dt><dd><p>1st step is to fit a double gaussian on the Area = f(Alt) curve
2nd step is to identify the anterior and the posterior parts. This
provide us with the orientation of the talus. It is a prerequisite to
the automatic identification of talus articular surfaces</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Alt</strong> (<em>__TYPE__</em>) – The distance to origin of each cross section center when projected
onto the talus long axis (distal to proximal, ie. anterior to posterior).</p></li>
<li><p><strong>Area</strong> (<em>__TYPE__</em>) – The cross section areas of the talus along the long axis</p></li>
<li><p><strong>debug_plots</strong> (<em>boolean</em>) – Display debug plot</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>or</strong> (<em>__TYPE__</em>) – The orientation of the talus. (__TO_BE_PRECISED__</p></li>
<li><p><strong>alt_TlNvc_start</strong> (<em>__TYPE__</em>) – gives the altitude along X0 at wich the CSA is maximal
and where the TaloNavicular (TlNvc) articular surface
could start.</p></li>
<li><p><strong>alt_TlNeck_start</strong> (<em>__TYPE__</em>) – gives the altitude along x0 at the approximate start
of talus nec</p></li>
<li><p><strong>alt_TlTib_start</strong> (<em>__TYPE__</em>) – gives the altitude along X0 at wich articular surface
with the tibia can star</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.fitEllipseOnTibialCondylesEdge">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">fitEllipseOnTibialCondylesEdge</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Tr</span></em>, <em class="sig-param"><span class="pre">n</span></em>, <em class="sig-param"><span class="pre">x0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.fitEllipseOnTibialCondylesEdge" title="Permalink to this definition">¶</a></dt>
<dd><p>ELLIPSEONTIBIALCONDYLESEDGE Identify the edges of the proximal tibia
articular surface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tr</strong> (<em>triangulation</em>) – Triangulation object of the articular surface.</p></li>
<li><p><strong>n</strong> (<em>[3x1] float vector</em>) – <dl class="simple">
<dt>Array [v1; v2; v3] the normal vector to the</dt><dd><p>tibial plateau articular surfaces least square plane.</p>
</dd>
</dl>
</p></li>
<li><p><strong>x0</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>Array  [x y z] a point on the least square plane or the</dt><dd><p>the value d such as d = -(v1.x + v2.y + v3.z)
Dimension: 3 x 1 or 1 x 1</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>Xel</strong> (<em>__TYPE__</em>) – The X axis of the fitted ellipse in the original 3D space.</p></li>
<li><p><strong>Yel</strong> (<em>__TYPE__</em>) – The Y axis of the fitted ellipse in the original 3D space.</p></li>
<li><p><strong>ellipsePts</strong> (<em>__TYPE__</em>) –</p>
<dl class="simple">
<dt>The ellipse points in the original 3D space (useful for</dt><dd><p>plotting putposes).</p>
</dd>
</dl>
</li>
<li><p><strong>ellipse_t</strong> (<em>__TYPE__</em>) – Output structure of fit_ellipse</p></li>
<li><p><strong>EdgePtsTop</strong> (<em>__TYPE__</em>) – Articular surface edge points that are not too distal.</p></li>
<li><p><strong>K</strong> (<em>__TYPE__</em>) –</p>
<p>The index of of the points from EdgePtsTop that form the convexhull.</p>
<blockquote>
<div><p>SEE ALSO ProjectOnPlan, fit_ellips</p>
</div></blockquote>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.fitQuadriTalus">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">fitQuadriTalus</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">Tr</span></em>, <em class="sig-param"><span class="pre">V_all</span></em>, <em class="sig-param"><span class="pre">debug_plots</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.fitQuadriTalus" title="Permalink to this definition">¶</a></dt>
<dd><p>FITQUADRITALUS Approximate the shape of the talus by a quadrilateral.
From the mesh (triangulation of the talus), fit a quadrilateral to get
an initial guess of the talus Z0 direction (Inferior to Superior)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Tr</strong> (<em>triangulation</em>) – The triangulation object of the Talus</p></li>
<li><p><strong>V_all</strong> (<em>[3x3] float matrix</em>) – The eigen vector of the inertia matrix of Talus</p></li>
<li><p><strong>debug_plots</strong> (<em>boolean</em>) – Optionnal argument to plot the fit</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>Z0</strong> (<em>[3x1] float vector</em>) – A vector</p></li>
<li><p><strong>Y0</strong> (<em>__TYPE__</em>) –</p>
<dl class="simple">
<dt>A vector [3x1] of the medial to lateral (or the other way</dt><dd><p>around) directio</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.fit_ellipse">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">fit_ellipse</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">x</span></em>, <em class="sig-param"><span class="pre">y</span></em>, <em class="sig-param"><span class="pre">axis_handle</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.fit_ellipse" title="Permalink to this definition">¶</a></dt>
<dd><p>FIT_ELLIPSE Finds the best fit to an ellipse for the given set of points</p>
<dl class="simple">
<dt>Note:     if an ellipse was not detected (but a parabola or hyperbola), then</dt><dd><p>an empty structure is returned</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>__TYPE__</em>) – a set of x points</p></li>
<li><p><strong>y</strong> (<em>__TYPE__</em>) – a set of x points-coordinate in a column vectors.</p></li>
<li><p><strong>axis_handle</strong> (<em>__TYPE__</em>) – <dl class="simple">
<dt>optional. a handle to an axis, at which the estimated</dt><dd><p>ellipse will be drawn along with it’s axes</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>ellipse_t</strong> –</p>
<dl class="simple">
<dt>structure that defines the best fit to an ellipse</dt><dd><ul class="simple">
<li><p>a, sub axis (radius) of the X axis of the non-tilt ellipse</p></li>
<li><p>b, sub axis (radius) of the Y axis of the non-tilt ellipse</p></li>
<li><p>phi, orientation in radians of the ellipse (tilt)</p></li>
<li><p>X0, center at the X axis of the non-tilt ellipse</p></li>
<li><p>Y0, center at the Y axis of the non-tilt ellipse</p></li>
<li><p>X0_in, center at the X axis of the tilted ellipse</p></li>
<li><p>Y0_in, center at the Y axis of the tilted ellipse</p></li>
<li><p>long_axis, size of the long axis of the ellipse</p></li>
<li><p>short_axis, size of the short axis of the ellipse</p></li>
<li><p>status, status of detection of an ellips</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>__TYPE__</p>
</dd>
</dl>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.patRidgeFit">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">patRidgeFit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">AX</span></em>, <em class="sig-param"><span class="pre">AY</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.patRidgeFit" title="Permalink to this definition">¶</a></dt>
<dd><p>PATRIDGEFIT Allow to seperate the patellar apex and patetella
articular surfaces thanks to a non-linear fit of the most
posterior points of the posterior facet of the patella</p>
<p>This separation allow to know where the superior and
inferior regions of the patella are located. Thanks to that,
we will be able to ensure that the patella distral to proximal
axis is  oriented from inferior to superior.</p>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.GIBOC_core.SubFunctions.FittingFun.sphereFit">
<code class="sig-prename descclassname"><span class="pre">STAPLE.GIBOC_core.SubFunctions.FittingFun.</span></code><code class="sig-name descname"><span class="pre">sphereFit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">X</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.GIBOC_core.SubFunctions.FittingFun.sphereFit" title="Permalink to this definition">¶</a></dt>
<dd><p>SPHEREFIT fits a sphere to a collection of data using a closed form for the
solution (opposed to using an array the size of the data set).
Minimizes Sum((x-xc)^2+(y-yc)^2+(z-zc)^2-r^2)^2
x,y,z are the data, xc,yc,zc are the sphere’s center, and r is the radiu</p>
<p>Assumes that points are not in a singular configuration, real numbers, …
if you have coplanar data, use a circle fit with svd for determining the
plane, recommended Circle Fit (Pratt method), by Nikolai Chernov
<a class="reference external" href="http://www.mathworks.com/matlabcentral/fileexchange/22643">http://www.mathworks.com/matlabcentral/fileexchange/22643</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>X</strong> (<em>__TYPE__</em>) – n x 3 matrix of cartesian dat</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>Center</strong> (<em>__TYPE__</em>) – Center of sphere</p></li>
<li><p><strong>Radius</strong> (<em>__TYPE__</em>) – Radius of sphere</p></li>
<li><p><strong>ErrorDist</strong> (<em>__TYPE__</em>) –</p>
<p>Error dist for each points in X</p>
<blockquote>
<div><p>Modified to add distance to sphere -&gt; ErrorDis</p>
</div></blockquote>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="algorithms-functions">
<h2>Algorithms functions<a class="headerlink" href="#algorithms-functions" title="Permalink to this headline">¶</a></h2>
<p>This is the handle class definition.</p>
<span class="target" id="module-STAPLE.geometry"></span><dl class="mat function">
<dt id="STAPLE.geometry.findLandmarkCoords">
<code class="sig-prename descclassname"><span class="pre">STAPLE.geometry.</span></code><code class="sig-name descname"><span class="pre">findLandmarkCoords</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">points</span></em>, <em class="sig-param"><span class="pre">axis_name</span></em>, <em class="sig-param"><span class="pre">operator</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.geometry.findLandmarkCoords" title="Permalink to this definition">¶</a></dt>
<dd><p>TO DO ADD CHECK FOR DESCRIPT AND DIRECTION AS STRINGS
interpreting direction of search</p>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.geometry.getBoneLandmarkList">
<code class="sig-prename descclassname"><span class="pre">STAPLE.geometry.</span></code><code class="sig-name descname"><span class="pre">getBoneLandmarkList</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">bone_name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.geometry.getBoneLandmarkList" title="Permalink to this definition">¶</a></dt>
<dd><p>used notation to describe the landmarks
LandmarkInfo{1} = BL name
LandmarkInfo{2} = axis
LandmarkInfo{3} = operator (max/min)
2,3 can repeat
LandmarkInfo{end} = proximal/distal (optional)</p>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.geometry.landmarkBoneGeom">
<code class="sig-prename descclassname"><span class="pre">STAPLE.geometry.</span></code><code class="sig-name descname"><span class="pre">landmarkBoneGeom</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">TriObj</span></em>, <em class="sig-param"><span class="pre">CS</span></em>, <em class="sig-param"><span class="pre">bone_name</span></em>, <em class="sig-param"><span class="pre">debug_plots</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.geometry.landmarkBoneGeom" title="Permalink to this definition">¶</a></dt>
<dd><p>better LandmarkBoneTriGeom</p>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.geometry.processTriGeomBoneSet">
<code class="sig-prename descclassname"><span class="pre">STAPLE.geometry.</span></code><code class="sig-name descname"><span class="pre">processTriGeomBoneSet</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">triGeomBoneSet</span></em>, <em class="sig-param"><span class="pre">side_raw</span></em>, <em class="sig-param"><span class="pre">algo_pelvis</span></em>, <em class="sig-param"><span class="pre">algo_femur</span></em>, <em class="sig-param"><span class="pre">algo_tibia</span></em>, <em class="sig-param"><span class="pre">result_plots</span></em>, <em class="sig-param"><span class="pre">debug_plots</span></em>, <em class="sig-param"><span class="pre">in_mm</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.geometry.processTriGeomBoneSet" title="Permalink to this definition">¶</a></dt>
<dd><p>setting defaults</p>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.geometry.reduceTriObjGeometry">
<code class="sig-prename descclassname"><span class="pre">STAPLE.geometry.</span></code><code class="sig-name descname"><span class="pre">reduceTriObjGeometry</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">boneTriObj</span></em>, <em class="sig-param"><span class="pre">coeff_reduc</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.geometry.reduceTriObjGeometry" title="Permalink to this definition">¶</a></dt>
<dd><p>default reduction is 30%</p>
</dd></dl>

<dl class="mat function">
<dt id="STAPLE.geometry.writeOBJfile">
<code class="sig-prename descclassname"><span class="pre">STAPLE.geometry.</span></code><code class="sig-name descname"><span class="pre">writeOBJfile</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="pre">aMatTriObj</span></em>, <em class="sig-param"><span class="pre">aOBJfile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#STAPLE.geometry.writeOBJfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Please refer to description of file format:
<a class="reference external" href="http://www.martinreddy.net/gfx/3d/OBJ.spec">http://www.martinreddy.net/gfx/3d/OBJ.spec</a></p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Luca MODENESE &amp; Jean-Baptiste RENAULT.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>